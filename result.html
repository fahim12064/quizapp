<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Result</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
  <h1>Result for <span id="userName"></span></h1>
  <div id="score"></div>
  <div id="answers"></div>
  <a href="index.html">Back to Home</a>
</div>
<script>
const userName = localStorage.getItem('userName');
const userAnswers = JSON.parse(localStorage.getItem('userAnswers'));
const quizData = JSON.parse(localStorage.getItem('quizData'));
document.getElementById('userName').innerText=userName;
let total=0;
const answersDiv=document.getElementById('answers');
quizData.questions.forEach((q,idx)=>{
  const userAns = userAnswers[q.id];
  const correct = q.rightAnswerIndex;
  if(userAns===correct) total++;
  const div=document.createElement('div');
  div.innerHTML = `<p>${idx+1}. ${q.text}</p>
                   <p>Your Answer: <span class="${userAns===correct?'correct':'wrong'}">${userAns!==undefined?q.options[userAns]:'Skipped'}</span></p>
                   <p>Correct Answer: <span class="correct">${q.options[correct]}</span></p>`;
  answersDiv.appendChild(div);
});
document.getElementById('score').innerText=`Your Score: ${total} / ${quizData.questions.length}`;
</script>
</body>
</html>
